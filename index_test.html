<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>éŠ€æ²³å¥¶ç‰›è¿·å®®æ”¶ç›Š</title>
    <style>
        :root { --gold: #ffd700; --bg: #0b0e14; --panel: #1a1f29; --border: #2d3748; --text: #e2e8f0; --green: #4fd1c5; --blue: #63b3ed; --red: #fc8181; }
        body { font-family: system-ui, -apple-system, sans-serif; background: var(--bg); color: var(--text); padding: 20px; display: flex; justify-content: center; }
        .container { width: 100%; max-width: 1000px; background: var(--panel); padding: 30px; border-radius: 12px; border: 1px solid var(--border); box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        h2 { color: var(--gold); text-align: center; margin-bottom: 25px; }
        .grid-layout { display: grid; grid-template-columns: 1fr 1.2fr; gap: 20px; }
        table { width: 100%; border-collapse: collapse; margin-bottom: 20px; font-size: 0.85rem; }
        th { background: #2d3748; color: var(--gold); padding: 10px; text-align: left; }
        td { padding: 8px 10px; border-bottom: 1px solid var(--border); }
        
        .config-table th:nth-child(1), .config-table td:nth-child(1) { width: 15%; }
        .config-table th:nth-child(2), .config-table td:nth-child(2) { width: 15%; }
        .config-table th:nth-child(3), .config-table td:nth-child(3) { width: 20%; }
        .config-table th:nth-child(4), .config-table td:nth-child(4) { width: 20%; }

        select, input { background: #0b0e14; color: var(--green); border: 1px solid var(--gold); padding: 5px; border-radius: 4px; width: 100%; box-sizing: border-box; }
        .token-qty { color: var(--green); font-weight: bold; text-align: center; }
        .other-val { color: var(--blue); font-weight: bold; text-align: right; }
        
        /* UI ç²åˆ©è¦–è¦ºåŒ–æ¨£å¼ */
        .profit-val { font-weight: bold; text-align: right; }
        .pos { color: var(--green); } /* ç²åˆ©é¡¯ç¤ºç¶ è‰² */
        .neg { color: var(--red); }   /* è™§æé¡¯ç¤ºç´…è‰² */

        .btn-fetch { background: var(--gold); color: #1a202c; padding: 12px; width: 100%; border-radius: 6px; cursor: pointer; font-weight: bold; border: none; margin-bottom: 15px; transition: 0.2s; }
        .btn-fetch:hover { background: #e6c200; transform: translateY(-1px); }
        .status { text-align: center; font-size: 0.8rem; color: #718096; margin-bottom: 10px; min-height: 1.2em; }
    </style>
</head>
<body>

<div class="container">
    <h2>éŠ€æ²³å¥¶ç‰›è¿·å®®æ”¶ç›Š(æœ€çŸ­è·¯ç·š)</h2>
    
    <div id="status-msg" class="status">æç¤ºï¼šæ•¸æ“šæ¯ 30 åˆ†é˜ç”± GitHub Actions æ›´æ–°</div>
    <button class="btn-fetch" onclick="updatePrices()">ğŸ”„ æ›´æ–°å¸‚å ´åƒ¹æ ¼</button>

    <div class="grid-layout">
        <div>
            <table class="config-table">
                <thead>
                    <tr><th>é …ç›®</th><th>ç­‰ç´š</th><th>æ•¸é‡</th><th>å–®åƒ¹</th></tr>
                </thead>
                <tbody id="config-body"></tbody>
                <tr style="background: rgba(99, 179, 237, 0.05);">
                    <td colspan="2">è¿·å®®ç²¾ç…‰ç¢ç‰‡å–®åƒ¹<br>(ç”¨æ–¼ä¼°ç®—è¿·å®®ç²¾ç…‰å¯¶ç®±)</td>
                    <td colspan="2"><input type="number" id="refining-shard-price" value="0" oninput="calculate()"></td>
                </tr>
                <tr style="background: rgba(99, 179, 237, 0.05);">
                    <td colspan="2">ç´«å¤šæ‹‰ä¹‹ç›’ (ç”Ÿæ´»)</td>
                    <td colspan="2"><input type="number" id="box-price-life" value="200000" oninput="calculate()"></td>
                </tr>
                <tr style="background: rgba(99, 179, 237, 0.05);">
                    <td colspan="2">ç´«å¤šæ‹‰ä¹‹ç›’ (æˆ°é¬¥)</td>
                    <td colspan="2"><input type="number" id="box-price-combat" value="2600000" oninput="calculate()"></td>
                </tr>
            </table>
            <div id="total-cost-display" style="text-align: right; font-weight: bold; color: var(--gold); font-size: 1.1rem;">ç¸½é ä¼°æˆæœ¬ï¼š0</div>
        </div>

        <div>
            <table class="rev-table">
                <thead>
                    <tr>
                        <th>æ¨“å±¤ç´¯è¨ˆ</th>
                        <th>ä»£å¹£æœŸæœ›å€¼</th>
                        <th>å…¶ä»–æ”¶ç›ŠæœŸæœ›</th>
                        <th>é ä¼°æ·¨åˆ©æ½¤</th>
                    </tr>
                </thead>
                <tbody id="revenue-body"></tbody>
            </table>
            <div style="font-size: 0.75rem; color: #718096; background: rgba(0,0,0,0.2); padding: 10px; border-radius: 6px;">
                * <b>è¨ˆç®—åŸºç¤</b>ï¼šåŸºæ–¼ç¶²æ ¼å¤§å° <code>MIN(3+L, 8)</code> åŠå„é¡æˆ¿é–“æ‰è½ç‡ã€‚<br>
                * <b>ç²¾ç…‰å¯¶ç®±</b>ï¼šæ¡ç”¨æ‚¨æä¾›çš„ <b>1.8 ç¢ç‰‡/ç®±</b> åŠ æ¬ŠæœŸæœ›å€¼è¨ˆç®—ã€‚<br>
                * <b>åˆ©æ½¤åˆ†æ</b>ï¼šæ·¨åˆ©æ½¤ = å…¶ä»–æ”¶ç›ŠæœŸæœ› - ç¸½é ä¼°æˆæœ¬ã€‚ç²åˆ©é¡¯ç¤ºç¶ è‰²ï¼Œè™§æé¡¯ç¤ºç´…è‰²ã€‚
            </div>
        </div>
    </div>
</div>

<script>
